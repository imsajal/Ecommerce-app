{"ast":null,"code":"var _jsxFileName = \"C:\\\\Jordan\\\\shokart\\\\src\\\\components\\\\Allorders\\\\OrderItem.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState, useEffect } from \"react\";\nimport LazyLoad from \"react-lazyload\";\nimport classes from \"./MealItem.module.css\";\nimport AuthContext from \"../../store/auth-context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst OrderItem = props => {\n  _s();\n\n  const [product, setProduct] = useState([]);\n  const [customer, setCustomer] = useState([]);\n  const authCtx = useContext(AuthContext);\n  useEffect(() => {\n    const fetchProduct = async () => {\n      const pId = Number(props.productId);\n      const response = await fetch(\"http://localhost:8080/api/products/\" + pId, {\n        method: \"GET\",\n        mode: \"cors\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const responseData = await response.json();\n      console.log(responseData);\n      setProduct(responseData);\n    };\n\n    fetchProduct();\n  }, []);\n  useEffect(() => {\n    const fetchCustomer = async () => {\n      const response = await fetch(\"http://localhost:8080/api/users/getbyusername\", {\n        method: \"POST\",\n        mode: \"cors\",\n        body: JSON.stringify({\n          username: props.username\n        }),\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const responseData = await response.json();\n      console.log(responseData);\n      setCustomer(responseData);\n    };\n\n    fetchCustomer();\n  }, []);\n\n  const clickHandlerShip = () => {\n    const changeStatus = async () => {\n      const response = await fetch(\"http://localhost:8080/api/orders/status\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          id: props.id,\n          status: \"Shipped\"\n        }),\n        mode: \"cors\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const responseData = await response.json();\n      console.log(responseData);\n    };\n\n    changeStatus();\n    props.change(true);\n  };\n\n  const clickHandlerReject = () => {\n    const changeStatus = async () => {\n      const response = await fetch(\"http://localhost:8080/api/orders/status\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          id: props.id,\n          status: \"Rejected\"\n        }),\n        mode: \"cors\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const responseData = await response.json();\n      console.log(responseData);\n    };\n\n    changeStatus();\n    props.change(true);\n  };\n\n  const getImageSrc = byteArray => {\n    var img = null;\n    if (byteArray != null) img = new Buffer.from(byteArray).toString(\"base64\");\n    const file = \"data:image/jpeg;base64,\" + img;\n    return file;\n  };\n\n  let showShipButton = false;\n\n  if (props.status === \"placed\") {\n    showShipButton = true;\n  }\n\n  let showRejectButton = false;\n\n  if (props.status === \"placed\") {\n    showRejectButton = true;\n  }\n\n  let ShippingAdd = customer.houseNo + \",\" + customer.street;\n  let cont = customer.city + \",\" + customer.state + \",\" + customer.pincode;\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: classes.meal,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: classes.description,\n        children: [\"Id-\", props.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        align: \"left\",\n        className: classes.price,\n        children: [\"Shipping Address -\", ShippingAdd, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), cont, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 18\n        }, this), \"Contact - \", customer.phone]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Order Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        align: \"left\",\n        className: classes.price,\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: classes.image,\n        width: \"100\",\n        height: \"100\",\n        src: getImageSrc(product.pic)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.description,\n        children: [\"Amount x \", props.quantity]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.description,\n        children: [\"Status - \", props.status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.description,\n        children: [\"Price - $ \", product.price * props.quantity]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), showShipButton && /*#__PURE__*/_jsxDEV(\"button\", {\n        align: \"right\",\n        className: classes.button,\n        onClick: clickHandlerShip,\n        children: \"Ship Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this), showRejectButton && /*#__PURE__*/_jsxDEV(\"button\", {\n        align: \"center\",\n        className: classes.button,\n        onClick: clickHandlerReject,\n        children: \"Reject Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n\n_s(OrderItem, \"jzTHk3OemrQHR/B6U9DM2FNORRQ=\");\n\n_c = OrderItem;\nexport default OrderItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderItem\");","map":{"version":3,"sources":["C:/Jordan/shokart/src/components/Allorders/OrderItem.js"],"names":["useContext","useState","useEffect","LazyLoad","classes","AuthContext","OrderItem","props","product","setProduct","customer","setCustomer","authCtx","fetchProduct","pId","Number","productId","response","fetch","method","mode","headers","responseData","json","console","log","fetchCustomer","body","JSON","stringify","username","clickHandlerShip","changeStatus","id","status","change","clickHandlerReject","getImageSrc","byteArray","img","Buffer","from","toString","file","showShipButton","showRejectButton","ShippingAdd","houseNo","street","cont","city","state","pincode","meal","description","price","phone","name","image","pic","quantity","button"],"mappings":"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","sourcesContent":["import { useContext, useState, useEffect } from \"react\";\nimport LazyLoad from \"react-lazyload\";\nimport classes from \"./MealItem.module.css\";\nimport AuthContext from \"../../store/auth-context\";\n\nconst OrderItem = (props) => {\n  const [product, setProduct] = useState([]);\n  const [customer, setCustomer] = useState([]);\n  const authCtx = useContext(AuthContext);\n\n  useEffect(() => {\n    const fetchProduct = async () => {\n      const pId = Number(props.productId);\n      const response = await fetch(\n        \"http://localhost:8080/api/products/\" + pId,\n        {\n          method: \"GET\",\n          mode: \"cors\",\n          headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      const responseData = await response.json();\n      console.log(responseData);\n      setProduct(responseData);\n    };\n\n    fetchProduct();\n  }, []);\n\n  useEffect(() => {\n    const fetchCustomer = async () => {\n      const response = await fetch(\n        \"http://localhost:8080/api/users/getbyusername\",\n        {\n          method: \"POST\",\n          mode: \"cors\",\n          body: JSON.stringify({\n            username: props.username,\n          }),\n          headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      const responseData = await response.json();\n      console.log(responseData);\n      setCustomer(responseData);\n    };\n\n    fetchCustomer();\n  }, []);\n\n  const clickHandlerShip = () => {\n    const changeStatus = async () => {\n      const response = await fetch(\"http://localhost:8080/api/orders/status\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          id: props.id,\n          status: \"Shipped\",\n        }),\n        mode: \"cors\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      const responseData = await response.json();\n\n      console.log(responseData);\n    };\n\n    changeStatus();\n    props.change(true);\n  };\n\n  const clickHandlerReject = () => {\n    const changeStatus = async () => {\n      const response = await fetch(\"http://localhost:8080/api/orders/status\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          id: props.id,\n          status: \"Rejected\",\n        }),\n        mode: \"cors\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      const responseData = await response.json();\n\n      console.log(responseData);\n    };\n\n    changeStatus();\n    props.change(true);\n  };\n\n  const getImageSrc = (byteArray) => {\n    var img = null;\n    if (byteArray != null) img = new Buffer.from(byteArray).toString(\"base64\");\n    const file = \"data:image/jpeg;base64,\" + img;\n    return file;\n  };\n  let showShipButton = false;\n  if (props.status === \"placed\") {\n    showShipButton = true;\n  }\n  let showRejectButton = false;\n  if (props.status === \"placed\") {\n    showRejectButton = true;\n  }\n  let ShippingAdd = customer.houseNo + \",\" + customer.street;\n  let cont = customer.city + \",\" + customer.state + \",\" + customer.pincode;\n  return (\n    <li className={classes.meal}>\n      <div>\n        <h1 className={classes.description}>\n          Id-\n          {props.username}\n        </h1>\n\n        <div align=\"left\" className={classes.price}>\n          Shipping Address -\n          {ShippingAdd}\n          <br />\n          {cont} <br />\n          \n          Contact - {customer.phone}\n        </div>\n        <h1>Order Details</h1>\n        <div align=\"left\" className={classes.price}>\n          {product.name}\n        </div>\n        <br />\n        <img\n          className={classes.image}\n          width=\"100\"\n          height=\"100\"\n          src={getImageSrc(product.pic)}\n        />\n        <br />\n        <div className={classes.description}>Amount x {props.quantity}</div>\n        <div className={classes.description}>Status - {props.status}</div>\n        <div className={classes.description}>\n          Price - $ {product.price * props.quantity}\n        </div>\n        <br />\n        {showShipButton && (\n          <button\n            align=\"right\"\n            className={classes.button}\n            onClick={clickHandlerShip}\n          >\n            Ship Order\n          </button>\n        )}\n        {showRejectButton && (\n          <button\n            align=\"center\"\n            className={classes.button}\n            onClick={clickHandlerReject}\n          >\n            Reject Order\n          </button>\n        )}\n      </div>\n    </li>\n  );\n};\n\nexport default OrderItem;\n"]},"metadata":{},"sourceType":"module"}